<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <title>주민등록등본 미리보기</title>
  <style>
    body {font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif; margin:0; background:#f9fafb;}
    main {max-width: 1100px; margin: 20px auto; background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:16px;}
    .toolbar{display:flex; justify-content:flex-end; gap:8px; margin-bottom:10px;}
    .toolbar form{display:inline;}
    iframe{width:100%; height:78vh; border:1px solid #e5e7eb; border-radius:10px;}
    button{padding:8px 12px; border:1px solid #d1d5db; border-radius:8px; background:#fff; cursor:pointer;}
    button.primary{background:#2563eb; color:#fff; border-color:#2563eb;}
  </style>
</head>
<body>
<main>
  <h2 style="margin:4px 0 12px;">주민등록등본 미리보기</h2>

  <div class="toolbar">
    <!-- 제출 -->
    <form th:action="@{/residentregistration/submit}" method="post">
      <input type="hidden" name="fileId" th:value="${fileId}">
      <button type="submit" class="primary">이대로 제출</button>
    </form>

    <!-- 출력(새 창으로 PDF 열기) -->
    <form th:action="@{'/residentregistration/pdf/' + ${fileId}}" method="get" target="_blank">
      <button type="submit">인쇄/저장</button>
    </form>

    <!-- 수정하러 돌아가기 -->
    <form th:action="@{/residentregistration/apply}" method="get">
      <button type="submit">수정하기</button>
    </form>
  </div>

  <iframe th:src="@{'/residentregistration/pdf/' + ${fileId}}"></iframe>

  <div style="margin-top:10px; color:#6b7280; font-size:12px;">
    * 브라우저 설정에 따라 내장 PDF 뷰어가 차단될 수 있습니다. ‘인쇄/저장’을 누르면 새 창으로 열립니다.
  </div>
</main>
</body>
</html>
