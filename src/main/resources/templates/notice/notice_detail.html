<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>공지사항 상세</title>
  <link rel="stylesheet" th:href="@{/notice/css/notice_detail.css}">
  <link rel="stylesheet" href="/header-footer/css/header-footer.css" th:href="@{/header-footer/css/header-footer.css}">
  <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
  <script src="/header-footer/js/header-footer.js" th:src="@{/header-footer/js/header-footer.js}" defer></script>
</head>

<body>

  <!-- header -->
  <div th:replace="~{fragments/header :: header}"></div>
  <!-- header -->

  <div class="container">
    <h1 class="page-title">공지사항</h1>

    <table class="head-table">
      <tr>
        <th>제목</th>
        <td class="title" th:text="${notice.title}">공지 제목</td>
      </tr>
      <tr>
        <th>작성자</th>
        <td th:text="${notice.adminName}">관리자</td>
      </tr>
      <tr>
        <th>공지일</th>
        <td th:text="${notice.createdAt != null ? #temporals.format(notice.createdAt,'yyyy-MM-dd') : ''}">2025-09-10
        </td>
      </tr>
      <tr>
        <th>조회</th>
        <td th:text="${notice.viewCount}">0</td>
      </tr>
    </table>

    <div class="content-box" th:utext="${notice.content}">
      본문내용
    </div>

    <section class="section" th:if="${files != null and !#lists.isEmpty(files)}">
      <div class="attach-card">
        <h2 class="attach-title">첨부파일</h2>
        <ul class="attach-list">
          <li class="attach-item" th:each="f : ${files}">
            <div class="attach-left">
              <span class="attach-badge"
                th:text="${#strings.substring(f.mimeType,0,5) == 'image' ? 'IMG' : 'FILE'}">FILE</span>
              <a class="attach-name" th:href="@{|/files/${f.fileId}/download|}" th:text="${f.fileName}" target="_blank"
                rel="noopener">
                첨부파일명
              </a>
            </div>
            <div class="attach-size" th:text="${#numbers.formatInteger(f.fileSize, 0) + ' B'}">0 B</div>
          </li>
        </ul>
      </div>
    </section>

    <table class="nav-table">
      <tr>
        <th>이전글</th>
        <td>
          <a th:if="${prev != null}" th:href="@{|/notice/detail/${prev.noticeId}|(page=${page}, size=${size})}"
            th:text="${prev.title}">이전글</a>
          <span th:if="${prev == null}">없음</span>
        </td>
      </tr>
      <tr>
        <th>다음글</th>
        <td>
          <a th:if="${next != null}" th:href="@{|/notice/detail/${next.noticeId}|(page=${page}, size=${size})}"
            th:text="${next.title}">다음글</a>
          <span th:if="${next == null}">없음</span>
        </td>
      </tr>
    </table>

    <div class="actions">
      <a th:href="@{/notice/list(page=${page},size=${size})}" class="btn">목록</a>
    </div>
  </div>

  <!-- footer -->
  <div th:replace="~{fragments/footer :: footer}"></div>
  <!-- footer -->

</body>

</html>